<div class="card container-fluid">
  <p class="m-3 font-bold font-size-18"><strong>Contractor Details</strong></p>
  <hr class="m-3">
  <form>
    <div class="p-3">
      <div class="row align-items-end">

        <div class="col-md-6">
          <label for="bctaNo" class="form-label">BCTA Registration No:<span class="text-danger">*</span></label>
          <span class="font-size-14"> {{formData.contractorNo}}</span>
        </div>
        <div class="col-md-6">
          <label for="bctaNo" class="form-label">Name Of Firm:<span class="text-danger">*</span></label>
          <span class="font-size-14"> {{formData.nameOfFirm}}</span>
        </div>
        <div class="col-md-6">
          <label for="bctaNo" class="form-label">Mobile No:<span class="text-danger">*</span></label>
          <span class="font-size-14"> {{formData.mobileNo}}</span>
        </div>
        <div class="col-md-6">
          <label for="bctaNo" class="form-label">Address:<span class="text-danger">*</span></label>
          <span class="font-size-14">{{formData.establishmentAddress}}</span>
        </div>
        <div class="col-md-6">
          <label for="bctaNo" class="form-label">Email Address:<span class="text-danger">*</span></label>
          <span class="font-size-14"> {{formData.email}}</span>
        </div>
        <div class="col-md-6">
          <label for="bctaNo" class="form-label">Class of Contractor:<span class="text-danger">*</span>
          </label>
          <span class="font-size-14">{{formData.workCategory}}</span>
        </div>
      </div>
    </div>
  </form>
  <div class="container-fluid mt-3">
    <div class="overflow-auto">
      <ul class="nav nav-tabs flex-nowrap d-flex" id="userTabs" role="tablist" style="white-space: nowrap;">
        <!-- Add Work Information Tab (only when workType is 'OTHERS') -->
        <li class="nav-item flex-shrink-0" role="presentation" *ngIf="workType === 'OTHERS'">
          <button #addworkinformationTab (click)="DisplayonWorkInformationForm()"
            class="border nav-link step-tab rounded-0 active" id="addworkinformationTab" data-bs-toggle="tab"
            data-bs-target="#addworkinformationTabContent" type="button" role="tab"
            aria-controls="addworkinformationTabContent" aria-selected="true">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 0 }">
              <i class="pi pi-plus"></i>
            </span>
            <b class="text-black step-label font-size-14">Add Work Information</b>
          </button>
        </li>
        <!-- Onsite Facilities and Management -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #onsiteTab (click)="DisplayonsiteForm()" class="border nav-link step-tab rounded-0"
            [ngClass]="{ 'active': workType !== 'OTHERS' }" id="onsiteTab" data-bs-toggle="tab"
            data-bs-target="#onsiteTabContent" type="button" role="tab" aria-controls="onsiteTabContent"
            aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 1 }">
              {{ highestCompletedStep >= 1 ? '✓' : '1' }}
            </span>
            <b class="text-black step-label font-size-14">Onsite Facilities and Management</b>
          </button>
        </li>

        <!-- Contract Document at Site -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #contractorDocTab (click)="DisplayContractorDocForm()" class="border nav-link step-tab rounded-0"
            id="contractorDocTab" data-bs-toggle="tab" data-bs-target="#contractorDocTabContent" type="button"
            role="tab" aria-controls="contractorDocTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 2 }">
              {{ highestCompletedStep >= 2 ? '✓' : '2' }}
            </span>
            <b class="text-black step-label font-size-14">Contract Document at Site</b>
          </button>
        </li>

        <!-- Work Progress -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #workProgressTab (click)="DisplayWorkProgressForm()" class="border nav-link step-tab rounded-0"
            id="workProgressTab" data-bs-toggle="tab" data-bs-target="#workProgressTabContent" type="button" role="tab"
            aria-controls="workProgressTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 3 }">
              {{ highestCompletedStep >= 3 ? '✓' : '3' }}
            </span>
            <b class="text-black step-label font-size-14">Work Progress</b>
          </button>
        </li>

        <!-- Qualification of Subcontractors -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #qualificationofSubcontractorsTab (click)="DisplayQualificationForm()"
            class="border nav-link step-tab rounded-0" id="qualificationofSubcontractorsTab" data-bs-toggle="tab"
            data-bs-target="#qualificationTabContent" type="button" role="tab" aria-controls="qualificationTabContent"
            aria-selected="false">
            <span class="step-badge">
              {{ highestCompletedStep >= 4 ? '✓' : '4' }}
            </span>
            <b class="text-black step-label font-size-14">Qualification of Subcontractors</b>
          </button>
        </li>

        <!-- Work Task Quantity -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #workTaskQuantityTab (click)="DisplayWorkTaskQuantityForm()"
            class="border nav-link step-tab rounded-0" id="workTaskQuantityTab" data-bs-toggle="tab"
            data-bs-target="#workTaskQuantityTabContent" type="button" role="tab"
            aria-controls="workTaskQuantityTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 5 }">
              {{ highestCompletedStep >= 5 ? '✓' : '5' }}
            </span>
            <b class="text-black step-label font-size-14">Work Task Quality</b>
          </button>
        </li>

        <!-- Onsite Quality Check -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #onSiteQualityCheckTab (click)="DisplayOnSiteQualityCheck()"
            class="border nav-link step-tab rounded-0" id="onSiteQualityCheckTab" data-bs-toggle="tab"
            data-bs-target="#onSiteQualityCheckTabContent" type="button" role="tab"
            aria-controls="onSiteQualityCheckTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 6 }">
              {{ highestCompletedStep >= 6 ? '✓' : '6' }}
            </span>
            <b class="text-black step-label font-size-14">Onsite Quality Check per design specs</b>
          </button>
        </li>

        <!-- Reinforcement -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #reinforcementTab (click)="DisplayReinforcementForm()" class="border nav-link step-tab rounded-0"
            id="reinforcementTab" data-bs-toggle="tab" data-bs-target="#reinforcementTabContent" type="button"
            role="tab" aria-controls="reinforcementTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 7 }">
              {{ highestCompletedStep >= 7 ? '✓' : '7' }}
            </span>
            <b class="text-black step-label font-size-14">Reinforcement (using Profometer)</b>
          </button>
        </li>

        <!-- Occupational Health and Safety -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #occupationalHealthAndSaftyTab (click)="DisplayOccupationalHealthAndSaftyForm()"
            class="border nav-link step-tab rounded-0" id="occupationalHealthAndSaftyTab" data-bs-toggle="tab"
            data-bs-target="#occupationalHealthAndSaftyTabContent" type="button" role="tab"
            aria-controls="occupationalHealthAndSaftyTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 8 }">
              {{ highestCompletedStep >= 8 ? '✓' : '8' }}
            </span>
            <b class="text-black step-label font-size-14">Occupational Health and Safety</b>
          </button>
        </li>

        <!-- Human Resources in Contract -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #humanResourceTab (click)="DisplayHumanResourceForm()" class="border nav-link step-tab rounded-0"
            id="humanResourceTab" data-bs-toggle="tab" data-bs-target="#humanResourceTabContent" type="button"
            role="tab" aria-controls="humanResourceTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 9 }">
              {{ highestCompletedStep >= 9 ? '✓' : '9' }}
            </span>
            <b class="text-black step-label font-size-14">Human Resources in Contract</b>
          </button>
        </li>

        <!-- Certified Skilled Worker -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #certifiedSkilledWorkerTab (click)="DisplayCertifiedSkilledWorkerForm()"
            class="border nav-link step-tab rounded-0" id="certifiedSkilledWorkerTab" data-bs-toggle="tab"
            data-bs-target="#certifiedSkilledWorkerTabContent" type="button" role="tab"
            aria-controls="certifiedSkilledWorkerTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 10 }">
              {{ highestCompletedStep >= 10 ? '✓' : '10' }}
            </span>
            <b class="text-black step-label font-size-14">Certified Skilled Worker at Site</b>
          </button>
        </li>

        <!-- Committed Equipment -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #committedEquipmentTab (click)="DisplayCommittedEquipment()"
            class="border nav-link step-tab rounded-0" id="committedEquipmentTab" data-bs-toggle="tab"
            data-bs-target="#committedEquipmentTabContent" type="button" role="tab"
            aria-controls="committedEquipmentTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 11 }">
              {{ highestCompletedStep >= 11 ? '✓' : '11' }}
            </span>
            <b class="text-black step-label font-size-14">List of Committed Equipment</b>
          </button>
        </li>

        <!-- HR Strength at Site -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #hrstrengthAtSiteTab (click)="DisplayHRStrengthAtSite()" class="border nav-link step-tab rounded-0"
            id="hrstrengthAtSiteTab" data-bs-toggle="tab" data-bs-target="#hrstrengthAtSiteTabContent" type="button"
            role="tab" aria-controls="hrstrengthAtSiteTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 12 }">
              {{ highestCompletedStep >= 12 ? '✓' : '12' }}
            </span>
            <b class="text-black step-label font-size-14">Human Resource Strength at Site</b>
          </button>
        </li>

        <!-- Contractor Present During Site Monitoring -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #contractorPresentDuringSiteMonitoringTab (click)="DisplayContractorPresentDuringSiteMonitoring()"
            class="border nav-link step-tab rounded-0" id="contractorPresentDuringSiteMonitoringTab"
            data-bs-toggle="tab" data-bs-target="#contractorPresentDuringSiteMonitoringTabContent" type="button"
            role="tab" aria-controls="contractorPresentDuringSiteMonitoringTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 13 }">
              {{ highestCompletedStep >= 13 ? '✓' : '13' }}
            </span>
            <b class="text-black step-label font-size-14">Contractor Present During Site Monitoring</b>
          </button>
        </li>

        <!-- Add Site Engineer -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #addingSiteEngineerTab (click)="DisplayAddingSiteEngineer()"
            class="border nav-link step-tab rounded-0" id="addingSiteEngineerTab" data-bs-toggle="tab"
            data-bs-target="#addingSiteEngineerTabContent" type="button" role="tab"
            aria-controls="addingSiteEngineerTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 14 }">
              {{ highestCompletedStep >= 14 ? '✓' : '14' }}
            </span>
            <b class="text-black step-label font-size-14">Client Engineers During Monitoring</b>
          </button>
        </li>

        <!-- Monitoring Team -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #monitoringTab (click)="showMonitorTeamListsForm()" class="border nav-link step-tab rounded-0"
            id="monitoringTab" data-bs-toggle="tab" data-bs-target="#monitoringTabContent" type="button" role="tab"
            aria-controls="monitoringTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 15 }">
              {{ highestCompletedStep >= 15 ? '✓' : '15' }}
            </span>
            <b class="text-black step-label font-size-14">Monitoring Team (BCTA)</b>
          </button>
        </li>

        <!-- Review & Submit -->
        <li class="nav-item flex-shrink-0" role="presentation">
          <button #reviewSubmitTab (click)="DisplayReviewSubmitForm()" class="border nav-link step-tab rounded-0"
            id="reviewSubmitTab" data-bs-toggle="tab" data-bs-target="#reviewSubmitTabContent" type="button" role="tab"
            aria-controls="reviewSubmitTabContent" aria-selected="false">
            <span class="step-badge" [ngClass]="{ 'tick-class': highestCompletedStep >= 16 }">
              {{ highestCompletedStep >= 16 ? '✓' : '16' }}
            </span>
            <b class="text-black step-label font-size-14">Review & Submit</b>
          </button>
        </li>

      </ul>
    </div>

    <div class="mt-3">
      <app-addworkinformation *ngIf="showonWorkInformationForm" [prevOwnerTableId]="prevOwnerTableId"
        [tableId]="tableId" [data]="data" [workType]="workType" [inspectionType]="inspectionType"
        [contractorPrevId]="contractorPrevId" (saveOwnerInformationData)="saveOwnerInformationData($event)"
        (previousClicked)="goBackward($event)">
      </app-addworkinformation>
    </div>
    <div class="mt-3">
      <app-onsite-facilitiesand-management *ngIf="showonsiteForm" [prevTableId]="prevTableId" [tableId]="tableId"
        [Previousdata]="Previousdata" [data]="data" [datas]="datas" [workInformationdata]="workInformationdata"
        [workType]="workType" [ownerId]="ownerId" [inspectionType]="inspectionType" (dataSaved)="onDataSaved($event)"
        (previousClicked)="goBackward($event)">
      </app-onsite-facilitiesand-management>
    </div>

    <div class="mt-3">
      <app-contract-document *ngIf="showContractorDocForm" [prevTableId]="prevTableId" [tableId]="tableId"
        [datas]="datas" [data]="data" [inspectionType]="inspectionType"
        (onContractorDocSaved)="onContractorDocSaved($event)" (previousClicked)="goBackward($event)">
      </app-contract-document>
    </div>

    <div class="mt--3">
      <app-work-progress *ngIf="showWorkProgressForm" [prevTableId]="prevTableId" [tableId]="tableId" [data]="data"
        [inspectionType]="inspectionType" (SavedWorkProgressData)="SavedWorkProgressData($event)"
        (previousClicked)="goBackward($event)">
      </app-work-progress>
    </div>

    <div class="mt-3">
      <app-qualification *ngIf="showQualificationForm" [prevTableId]="prevTableId" [tableId]="tableId" [data]="data"
        [inspectionType]="inspectionType" (SavedQualificationData)="SavedQualificationData($event)"
        (previousClicked)="goBackward($event)">
      </app-qualification>
    </div>

    <div class="mt-3">
      <app-work-task-quantity *ngIf="showWorkTaskQuantityForm" [prevTableId]="prevTableId" [tableId]="tableId"
        [data]="data" [inspectionType]="inspectionType" (SavedWorkTaskQuantityData)="SavedWorkTaskQuantityData($event)"
        (previousClicked)="goBackward($event)">
      </app-work-task-quantity>
    </div>

    <div class="mt--3">
      <app-on-site-quality-check *ngIf="showOnSiteQualityCheck" [prevTableId]="prevTableId" [tableId]="tableId"
        [data]="data" [inspectionType]="inspectionType"
        (SavedOnSiteQualityCheckData)="SavedOnSiteQualityCheckData($event)" (previousClicked)="goBackward($event)">
      </app-on-site-quality-check>
    </div>

    <div class="mt--3">
      <app-reinforcement *ngIf="showReinforcementForm" [prevTableId]="prevTableId" [tableId]="tableId" [data]="data"
        [inspectionType]="inspectionType" (SavedReinforcementData)="SavedReinforcementData($event)"
        (previousClicked)="goBackward($event)">
      </app-reinforcement>
    </div>

    <div class="mt--3">
      <app-occupational-health-and-safty *ngIf="showOccupationalHealthAndSaftyForm" [prevTableId]="prevTableId"
        [tableId]="tableId" [data]="data" [inspectionType]="inspectionType"
        (SavedOccupationalHealthAndSaftyData)="SavedOccupationalHealthAndSaftyData($event)"
        (previousClicked)="goBackward($event)">
      </app-occupational-health-and-safty>
    </div>

    <div class="mt--3">
      <app-list-ofhrin-contract *ngIf="showHumanResourceForm" [prevTableId]="prevTableId" [tableId]="tableId"
        [data]="data" [inspectionType]="inspectionType"
        (saveHumanResourceContractData)="saveHumanResourceContractData($event)" (previousClicked)="goBackward($event)">
      </app-list-ofhrin-contract>
    </div>

    <div class="mt-3">
      <app-certified-skilled-worker *ngIf="showCertifiedSkilledWorkerForm" [prevTableId]="prevTableId"
        [tableId]="tableId" [data]="data" [inspectionType]="inspectionType"
        (savedCertifiedSkilledWorkerData)="savedCertifiedSkilledWorkerData($event)"
        (previousClicked)="goBackward($event)">
      </app-certified-skilled-worker>
    </div>

    <div class="mt-3">
      <app-committed-equipment *ngIf="showCommittedEquipment" [prevTableId]="prevTableId" [tableId]="tableId"
        [data]="data" [inspectionType]="inspectionType"
        (saveCommittedEquipmentData)="saveCommittedEquipmentData($event)" (previousClicked)="goBackward($event)">
      </app-committed-equipment>
    </div>

    <div class="mt-3">
      <app-hrstrength-at-site *ngIf="showHRStrengthAtSite" [prevTableId]="prevTableId" [tableId]="tableId" [data]="data"
        [inspectionType]="inspectionType" (humanResourcestrengthsitedata)="humanResourcestrengthsitedata($event)"
        (previousClicked)="goBackward($event)">
      </app-hrstrength-at-site>
    </div>

    <div class="mt--3">
      <app-contractor-present-during-site-monitoring *ngIf="showContractorPresentDuringSiteMonitoring"
        [inspectionType]="inspectionType" [prevTableId]="prevTableId" [tableId]="tableId" [data]="data"
        (contractorPresentData)="contractorPresentData($event)" (previousClicked)="goBackward($event)">
      </app-contractor-present-during-site-monitoring>
    </div>

    <div class="mt--3">
      <app-adding-site-engineer *ngIf="showAddingSiteEngineer" [tableId]="tableId" [data]="data"
        [prevTableId]="prevTableId" (siteEngineersData)="siteEngineersData($event)"
        (previousClicked)="goBackward($event)">
      </app-adding-site-engineer>
    </div>

    <div class="mt-3">
      <app-monitor-team-lists *ngIf="showMonitorForm" [tableId]="tableId" [data]="data" [prevTableId]="prevTableId"
        (monitoringData)="monitoringData($event)" (previousClicked)="goBackward($event)">
      </app-monitor-team-lists>
    </div>

    <div class="mt-3">
      <app-review-and-submit *ngIf="showReviewSubmitForm" [tableId]="tableId" [prevTableId]="prevTableId"
        (previousClicked)="goBackward($event)">
      </app-review-and-submit>
    </div>
    <!-- <div class="mt-3">
        <app-compliance-checklist 
          *ngIf="showComplianceChecklist" 
          (previousClicked)="goBackward($event)">
        </app-compliance-checklist>
      </div> -->

    <!-- <div class="mt-3">
        <app-record-of-monitoring-observation 
          *ngIf="showRecordOfMonitoringObservation" 
          (previousClicked)="goBackward($event)">
        </app-record-of-monitoring-observation> 
        
      </div> -->