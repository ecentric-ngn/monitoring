<form #form="ngForm">
    <div class="p-3">
        <div class="row mb-3">
            <div class="col-md-4">
                <label class="form-label">
                    CID No/Work Permit No:
                    <span class="text-danger font-size-12">*</span>
                </label>

                <div class="d-flex align-items-start gap-2">
                    <input type="number" class="form-control h-3rem" placeholder="Enter CID No"
                        [(ngModel)]="formData.cidNo" name="cidNo" id="cidNo" required #cidNo="ngModel"  [disabled]="appNoStatus === 'REJECTED'">

                    <button type="button" class="btn btn-primary" (click)="onCidChange()" [disabled]="isLoading">
                        Fetch
                    </button>
                </div>

                <div *ngIf="isLoading" class="mt-1">
                    <div class="spinner-border spinner-border-sm text-secondary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>

                <div *ngIf="cidNo.invalid && cidNo.touched" class="text-danger font-size-12">
                    Please enter CID No.
                </div>
                <div *ngIf="errorMessages.notFound" class="text-danger font-size-12">
                    {{ errorMessages.notFound }}
                </div>
                <div *ngIf="errorMessages.server" class="text-danger font-size-12">
                    {{ errorMessages.server }}
                </div>
            </div>



            <div class="col-md-4 ">
                <label class="form-label">Full Name:<span class="text-danger font-size-12">*</span></label>
                <input type="text" class="form-control h-3rem" placeholder="Enter Full Name"
                    [(ngModel)]="formData.fullName" name="fullName" required #fullName="ngModel" readonly />
                <div *ngIf="fullName.invalid && fullName.touched" class="text-danger font-size-12">
                    Please enter Full Name.
                </div>
            </div>
            <div class="col-md-4 ">
                <label class="form-label">Mobile No:<span class="text-danger font-size-12">*</span></label>
                <input type="number" class="form-control h-3rem" placeholder="Enter Mobile No"
                    [(ngModel)]="formData.mobileNo" name="mobileNo" required #mobileNo="ngModel"
                    (ngModelChange)="validateMobileNumber()"  [disabled]="appNoStatus === 'REJECTED'"/>
                <div *ngIf="mobileNo.invalid && mobileNo.touched" class="text-danger font-size-12">
                    Please enter Mobile No.
                </div>
                <div *ngIf="errorMessages.mobile" class="text-danger font-size-12">{{errorMessages.mobile}}
                </div>
            </div>
        </div>
        <div class="justify-content-end d-flex">
            <button class="btn mr-1 text-white prev-btn" *ngIf="appNoStatus !== 'REJECTED'" (click)="onPreviousClick()" type="submit">Prev</button>
            <button class="btn text-white save-next-btn" (click)="saveAndNext(form)" type="submit">Save & Next</button>
        </div>
    </div>
</form>